# CAT_CHARITY_FUND
API для управления благотворительными проектами и пожертвованиями.

## Описание
Этот проект предоставляет RESTful API для управления благотворительными проектами и пожертвованиями. Он позволяет пользователям создавать, просматривать, обновлять и удалять благотворительные проекты, делать пожертвования, а также получать информацию о пожертвованиях.

## Основные функции
- Создание, чтение, обновление и удаление благотворительных проектов.
- Работа с пожертвованиями: создание, просмотр и фильтрация по пользователю.
- Аутентификация пользователей с использованием JWT токенов.
- Защита маршрутов на основе ролей (обычный пользователь, суперпользователь).

## Технологии
Проект реализован с использованием следующих технологий:
- **FastAPI**: Веб-фреймворк для создания API на Python.
- **SQLAlchemy**: Библиотека для работы с базами данных.
- **Alembic**: Инструмент для управления миграциями баз данных.
- **Pydantic**: Для валидации данных и сериализации моделей.
- **FastAPI Users**: Для аутентификации и управления пользователями.
- **PostgreSQL**: Реляционная база данных для хранения данных проектов и пользователей.

## Установка и запуск

### Установка зависимостей
Установите зависимости из файла **requirements.txt**:

``` sh
pip install -r requirements.txt
```

### Настройка базы данных
Создайте базу данных PostgreSQL и укажите URL в файле **.env**:

``` plaintext
DATABASE_URL=postgresql://user:password@localhost/dbname
```

### Выполнение миграций

После создания базы данных необходимо выполнить миграции с помощью Alembic:

``` sh
alembic upgrade head
```

Это применит все доступные миграции и создаст необходимую структуру таблиц в вашей базе данных.

### Запуск сервера

``` sh
uvicorn app.main:app --reload
```

Это запустит сервер FastAPI с автоматической перезагрузкой при изменении файлов.

## Использование API
Документация API доступна по адресу [http://localhost:8000/docs](http://localhost:8000/docs).

### Примеры запросов

#### Создание проекта

``` http
POST /projects/

{
  "name": "Название проекта",
  "description": "Описание проекта",
  "full_amount": 10000
}
```

#### Создание пожертвования

``` http
POST /donations/

{
  "full_amount": 5000
}
```
